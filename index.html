<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/0a35f3f1a0.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="main.css">
    <title>My Website</title>
</head>
<body>
    <div class="texture-overlay"></div>
    <div class="menu-icon">
        <img src="media/menuicon.png" alt="Menu Icon">
    </div>
    <div class="flower-icon">
        <img src="media/flower.png" alt="Flower Icon">
    </div>
    <div class="typewriter" style="padding-top:10vw;">
        <h1 id="typing-text">Software Development</h1>
      </div>

    <script>
        const flowerIcon = document.querySelector('.flower-icon');
        flowerIcon.addEventListener('click', () => {
            flowerIcon.classList.toggle('spinning');
        })
        
        document.addEventListener('DOMContentLoaded', function() {
        const typingTextElement = document.getElementById('typing-text');

        function updateTypingAnimation() {
            typingTextElement.style.width = 'auto';
            const textWidth = typingTextElement.offsetWidth;
            typingTextElement.style.width = 'fit-content';

            // Find the main.css stylesheet
            let mainStylesheet;
            for (let i = 0; i < document.styleSheets.length; i++) {
            if (document.styleSheets[i].href && document.styleSheets[i].href.includes('main.css')) {
                mainStylesheet = document.styleSheets[i];
                break;
            }
            }

            if (mainStylesheet) {
            let typingRule;
            for (let i = 0; i < mainStylesheet.cssRules.length; i++) {
                if (mainStylesheet.cssRules[i].name === 'typing') {
                typingRule = mainStylesheet.cssRules[i];
                break;
                }
            }

            if (typingRule) {
                typingRule.deleteRule('to');
                typingRule.insertRule(`to { width: ${textWidth}px }`);
            } else {
                console.error("Could not find the '@keyframes typing' rule in main.css");
            }
            } else {
            console.error("Could not find the main.css stylesheet");
            }
        }

        updateTypingAnimation();
        window.addEventListener('resize', updateTypingAnimation);
        });

</script>
</body>
</html>
